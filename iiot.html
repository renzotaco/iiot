<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador Interactivo de Casos de √âxito en IIoT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: The application is designed as a single-page dashboard with a persistent top navigation to switch between three main views: 'Introducci√≥n', 'Plataformas y Casos', and 'An√°lisis Comparativo'. This structure was chosen to break down the dense report into logical, digestible segments. The core of the app is the 'Plataformas' section, which uses a tabbed-filter interaction model. Users can select a platform (Node-RED, AWS IoT, ThingsBoard) to dynamically view an overview and associated case study cards. This non-linear, user-driven approach is superior to a simple scroll, as it allows students to focus on and compare specific areas of interest, aligning with a postgraduate learning style. Case studies are presented as expandable cards to prevent initial information overload, encouraging exploration. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Market Growth Projection (CAGR 13.34%). Goal: Inform/Impact. Viz: Line Chart. Interaction: Hover for tooltips. Justification: A line chart is the standard and most effective way to show trends over time. Library: Chart.js (Canvas).
        - Report Info: Key IIoT Benefits. Goal: Inform. Viz: List with Icons. Interaction: Static. Justification: Icons provide quick visual cues for better readability and retention. Method: HTML/Unicode.
        - Report Info: Case Studies (Problem, Solution, Arch, Results). Goal: Organize/Explore. Viz: Interactive Cards. Interaction: Click to expand/collapse. Justification: This hides complexity initially, making the UI cleaner and encouraging the user to actively engage with the content they are interested in. Method: HTML/JS.
        - Report Info: Platform Comparison. Goal: Compare. Viz: Styled Table. Interaction: Hover highlights. Justification: A table is the most direct way to compare features across multiple items. Method: HTML/Tailwind CSS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F5F5F4; /* stone-100 */
            color: #374151; /* gray-700 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .nav-link.active {
            color: #3B82F6; /* blue-500 */
            border-bottom-color: #3B82F6;
        }
        .platform-tab.active {
            background-color: #3B82F6; /* blue-500 */
            color: #FFFFFF;
        }
        .case-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .case-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .details-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.7s ease-in-out;
        }
        .details-content.open {
            max-height: 2000px; /* Adjust as needed */
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-gray-800">Explorador IIoT</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#introduccion" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-blue-500 border-b-2 border-transparent">Introducci√≥n</a>
                        <a href="#plataformas" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-blue-500 border-b-2 border-transparent">Plataformas y Casos</a>
                        <a href="#comparativo" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-blue-500 border-b-2 border-transparent">An√°lisis Comparativo</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- Secci√≥n de Introducci√≥n -->
        <section id="introduccion" class="content-section space-y-12">
            <div class="text-center">
                <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">El Impacto Estrat√©gico de la IIoT</h2>
                <p class="mt-4 max-w-3xl mx-auto text-lg text-gray-600">La Internet Industrial de las Cosas (IIoT) es m√°s que tecnolog√≠a; es una fuerza transformadora que redefine industrias, optimiza operaciones y desbloquea nuevas fuentes de valor. Esta secci√≥n explora su definici√≥n, beneficios clave y el panorama del mercado.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold mb-4 text-gray-800">Crecimiento Proyectado del Mercado IIoT</h3>
                    <p class="text-gray-600 mb-4">El mercado de la IIoT muestra un crecimiento robusto, con una Tasa de Crecimiento Anual Compuesta (CAGR) esperada del 13.34% entre 2025 y 2029, proyectando alcanzar un valor de $454.89 mil millones para 2029.</p>
                    <div class="chart-container">
                        <canvas id="marketGrowthChart"></canvas>
                    </div>
                </div>
                <div class="space-y-6">
                    <h3 class="text-2xl font-bold text-center text-gray-800">Beneficios Clave de la Adopci√≥n</h3>
                    <ul class="space-y-4">
                        <li class="flex items-start bg-white p-4 rounded-lg shadow">
                            <span class="text-2xl mr-4">üîß</span>
                            <div>
                                <h4 class="font-semibold">Mantenimiento Predictivo</h4>
                                <p class="text-gray-600 text-sm">Anticipa fallas en equipos para reducir tiempos de inactividad y costos de reparaci√≥n.</p>
                            </div>
                        </li>
                        <li class="flex items-start bg-white p-4 rounded-lg shadow">
                            <span class="text-2xl mr-4">üèÜ</span>
                            <div>
                                <h4 class="font-semibold">Control de Calidad Mejorado</h4>
                                <p class="text-gray-600 text-sm">Detecta defectos en tiempo real para evitar errores costosos en la producci√≥n.</p>
                            </div>
                        </li>
                        <li class="flex items-start bg-white p-4 rounded-lg shadow">
                            <span class="text-2xl mr-4">üë∑</span>
                            <div>
                                <h4 class="font-semibold">Seguridad del Trabajador</h4>
                                <p class="text-gray-600 text-sm">Monitoriza entornos y automatiza protocolos para un lugar de trabajo m√°s seguro.</p>
                            </div>
                        </li>
                         <li class="flex items-start bg-white p-4 rounded-lg shadow">
                            <span class="text-2xl mr-4">üíß</span>
                            <div>
                                <h4 class="font-semibold">Optimizaci√≥n de Recursos</h4>
                                <p class="text-gray-600 text-sm">Gestiona de forma inteligente el consumo de energ√≠a, agua y otros recursos.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Secci√≥n de Plataformas y Casos de √âxito -->
        <section id="plataformas" class="content-section hidden space-y-8">
             <div class="text-center">
                <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Plataformas y Casos de √âxito</h2>
                <p class="mt-4 max-w-3xl mx-auto text-lg text-gray-600">Explore las capacidades de las principales plataformas de IIoT y descubra c√≥mo se aplican en casos de √©xito del mundo real. Seleccione una plataforma para ver su descripci√≥n general y los proyectos asociados.</p>
            </div>

            <div class="flex justify-center space-x-2 sm:space-x-4 bg-gray-200 p-2 rounded-full">
                <button class="platform-tab px-4 py-2 text-sm font-semibold rounded-full transition" data-platform="nodered">Node-RED</button>
                <button class="platform-tab px-4 py-2 text-sm font-semibold rounded-full transition" data-platform="aws">AWS IoT</button>
                <button class="platform-tab px-4 py-2 text-sm font-semibold rounded-full transition" data-platform="thingsboard">ThingsBoard</button>
            </div>

            <div id="platform-content" class="mt-8">
                <!-- El contenido se generar√° din√°micamente aqu√≠ -->
            </div>
        </section>

        <!-- Secci√≥n de An√°lisis Comparativo -->
        <section id="comparativo" class="content-section hidden space-y-8">
            <div class="text-center">
                <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">An√°lisis Comparativo</h2>
                <p class="mt-4 max-w-3xl mx-auto text-lg text-gray-600">Esta secci√≥n ofrece una comparaci√≥n directa de Node-RED, AWS IoT y ThingsBoard a trav√©s de criterios clave. El objetivo es ayudarle a comprender las fortalezas y debilidades de cada plataforma para seleccionar la herramienta adecuada para diferentes escenarios de IIoT.</p>
            </div>
            <div class="overflow-x-auto bg-white rounded-xl shadow-lg p-2">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Criterio</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Node-RED</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">AWS IoT</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ThingsBoard</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        <!-- Filas de la tabla se insertar√°n aqu√≠ -->
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <script>
        const appData = {
            platforms: {
                nodered: {
                    name: 'Node-RED',
                    description: 'Node-RED es una herramienta de programaci√≥n visual de bajo c√≥digo, ideal para prototipado r√°pido y automatizaci√≥n en el borde. Su fortaleza radica en la facilidad de uso y la integraci√≥n con una amplia gama de protocolos industriales, democratizando el desarrollo de soluciones IIoT.',
                    cases: [
                        {
                            title: 'Fabricaci√≥n de Precisi√≥n (Abrasive Technology)',
                            problem: 'Automatizaci√≥n compleja, comunicaci√≥n deficiente con maquinaria y entornos de producci√≥n hostiles.',
                            solution: 'Uso de Node-RED en Raspberry Pi y luego FlowFuse Cloud para construir HMIs r√°pidamente, automatizar procesos y proteger equipos.',
                            architecture: 'Despliegue h√≠brido con Raspberry Pi para HMIs locales y FlowFuse para gesti√≥n centralizada. Integraci√≥n con PLCs y APIs.',
                            results: 'Aceleraci√≥n dr√°stica del desarrollo de automatizaci√≥n, permitiendo proyectos antes considerados demasiado complejos. Mejora de la comunicaci√≥n con la maquinaria.'
                        },
                        {
                            title: 'Sistemas de Riego (PIDD)',
                            problem: 'Monitorizaci√≥n ineficiente de estaciones remotas, falta de datos en tiempo real y dificultad para atraer talento joven.',
                            solution: 'Automatizaci√≥n del control de bombas y monitorizaci√≥n con Node-RED y FlowFuse. Uso de ChatGPT para generar flujos.',
                            architecture: 'Transici√≥n de Raspberry Pi a PLCs m√°s robustos (Groov EPIC) por estabilidad. MQTT para supervisi√≥n en tiempo real.',
                            results: 'Reducci√≥n de visitas f√≠sicas, disminuci√≥n de la escasez de agua de mensual a anual y √©xito en atraer a una fuerza laboral m√°s joven y tecnol√≥gica.'
                        },
                        {
                            title: 'SCADA de C√≥digo Abierto para Energ√≠a H√≠brida',
                            problem: 'Los sistemas SCADA tradicionales eran costosos, complejos y carec√≠an de control activo en tiempo real.',
                            solution: 'Creaci√≥n de un sistema SCADA de bajo costo con Node-RED para monitorizaci√≥n, control de generador y detecci√≥n de fallas.',
                            architecture: 'Arquitectura distribuida con Arduino y Wio Terminal como RTUs, y Node-RED en un PC como MTU. Uso del protocolo Firmata.',
                            results: 'Sistema funcional con un costo de hardware de solo CAD $107, control preciso y detecci√≥n fiable de alertas. Democratizaci√≥n del acceso a la tecnolog√≠a SCADA.'
                        }
                    ]
                },
                aws: {
                    name: 'AWS IoT',
                    description: 'AWS IoT es una suite de servicios en la nube totalmente gestionados, dise√±ada para una escalabilidad masiva y una profunda integraci√≥n con an√°lisis avanzados e IA/ML. Es la opci√≥n preferida para grandes empresas que buscan soluciones robustas y predictivas.',
                    cases: [
                        {
                            title: 'Mantenimiento Predictivo en Aeropuertos',
                            problem: 'Fallas en carruseles de equipaje que causan retrasos y p√©rdidas millonarias.',
                            solution: 'Sistema de mantenimiento predictivo usando sensores (vibraci√≥n, temperatura) y servicios de AWS para anticipar fallas en componentes.',
                            architecture: 'Sensores IFM -> Gateway CloudRail -> AWS IoT Core -> IoT Analytics para procesar -> SageMaker para predicci√≥n -> API Gateway para acciones autom√°ticas.',
                            results: 'Detecci√≥n de anomal√≠as de vibraci√≥n y temperatura, identificaci√≥n de fallas en listones y automatizaci√≥n de la adquisici√≥n de repuestos, mitigando un riesgo financiero crucial.'
                        },
                        {
                            title: 'Plataforma de Datos Unificada (Siemens Energy)',
                            problem: 'Datos de fabricaci√≥n fragmentados y aislados en m√∫ltiples f√°bricas globales, impidiendo an√°lisis estandarizados.',
                            solution: 'Creaci√≥n de la "F√°brica Conectada", una plataforma centralizada en AWS para estandarizar la recopilaci√≥n y an√°lisis de datos.',
                            architecture: 'AWS IoT SiteWise como n√∫cleo central, SiteWise Edge para conectar equipos heredados, S3 para almacenamiento y Grafana para visualizaci√≥n.',
                            results: 'Visi√≥n hol√≠stica de las operaciones globales, an√°lisis estandarizados y optimizaci√≥n interorganizacional, rompiendo los silos de datos.'
                        },
                        {
                            title: 'Nube Industrial (Grupo Volkswagen)',
                            problem: 'Integrar y estandarizar datos de m√°s de 120 f√°bricas en todo el mundo para transformar la fabricaci√≥n y log√≠stica.',
                            solution: 'Construcci√≥n de la "Nube Industrial de Volkswagen" sobre AWS para conectar m√°quinas, plantas y sistemas.',
                            architecture: 'Plataforma basada en la nube que utiliza servicios de AWS IoT como AWS IoT Core y SiteWise para la conectividad y modelado de datos a escala masiva.',
                            results: 'Proyecci√≥n de un aumento del 30% en productividad, reducci√≥n del 30% en costos de f√°brica y ahorros de ‚Ç¨1 mil millones en la cadena de suministro.'
                        }
                    ]
                },
                thingsboard: {
                    name: 'ThingsBoard',
                    description: 'ThingsBoard es una plataforma IoT de c√≥digo abierto que ofrece una soluci√≥n vers√°til para la gesti√≥n de dispositivos, visualizaci√≥n de datos y procesamiento de reglas. Destaca por su flexibilidad, personalizaci√≥n y capacidad de despliegue tanto en la nube como localmente.',
                    cases: [
                        {
                            title: 'Gesti√≥n de Energ√≠a Inteligente',
                            problem: 'Consumo energ√©tico ineficiente, falta de control centralizado y procesos manuales propensos a errores.',
                            solution: 'Soluci√≥n de monitorizaci√≥n que conecta medidores y sensores para recopilar datos de consumo en tiempo real, procesarlos y automatizar acciones.',
                            architecture: 'Medidores inteligentes -> Gateway IoT (MQTT, etc.) -> N√∫cleo de ThingsBoard para gesti√≥n y motor de reglas -> Paneles de control y apps m√≥viles.',
                            results: 'Reducci√≥n del consumo, optimizaci√≥n basada en condiciones externas, control centralizado y mejora de la sostenibilidad.'
                        },
                        {
                            title: 'SCADA para Perforaci√≥n de Petr√≥leo y Gas',
                            problem: 'Necesidad de control en tiempo real de equipos de perforaci√≥n, visualizaci√≥n de par√°metros cr√≠ticos y mejora de la seguridad.',
                            solution: 'Sistema SCADA usando plantillas flexibles de ThingsBoard para automatizar y visualizar las operaciones de perforaci√≥n.',
                            architecture: 'Dispositivos (reales o emulados con Modbus) -> ThingsBoard IoT Gateway -> Paneles de control SCADA con s√≠mbolos y widgets de alarma.',
                            results: 'Control preciso de equipos cr√≠ticos, visualizaci√≥n mejorada para la toma de decisiones y un entorno operativo m√°s seguro.'
                        },
                        {
                            title: 'Monitorizaci√≥n de ESD en Electr√≥nica',
                            problem: 'La descarga electrost√°tica (ESD) puede da√±ar componentes sensibles, causando fallas costosas en la fabricaci√≥n de electr√≥nica.',
                            solution: 'Uso de ThingsBoard para presentar datos de una soluci√≥n de hardware de monitorizaci√≥n de ESD a los clientes de forma clara y procesable.',
                            architecture: 'Sensores de ESD -> Plataforma ThingsBoard para ingesta y procesamiento -> Paneles de control personalizados y sistema de alarmas.',
                            results: 'La empresa calific√≥ a ThingsBoard como la "mejor herramienta en su clase" para presentar datos de IoT industrial, destacando su flexibilidad y documentaci√≥n.'
                        }
                    ]
                }
            },
            comparison: [
                {
                    criterion: 'Caso de Uso Principal',
                    nodered: 'Prototipado r√°pido, automatizaci√≥n en el borde, integraci√≥n de sistemas legados, proyectos de bajo costo.',
                    aws: 'Aplicaciones empresariales a gran escala, mantenimiento predictivo, an√°lisis avanzado y soluciones basadas en IA/ML.',
                    thingsboard: 'Gesti√≥n de dispositivos, visualizaci√≥n de datos, SCADA, soluciones personalizables con control de infraestructura.'
                },
                {
                    criterion: 'Modelo de Despliegue',
                    nodered: 'Muy flexible: Borde (Raspberry Pi, PLC), local (servidor) o nube.',
                    aws: 'Principalmente en la nube (Cloud-native), con componentes de borde (Greengrass, SiteWise Edge).',
                    thingsboard: 'Flexible: Nube (SaaS) o local (On-premises), incluyendo cl√∫steres de Kubernetes.'
                },
                {
                    criterion: 'Curva de Aprendizaje',
                    nodered: 'Baja. Su interfaz visual es accesible para no desarrolladores.',
                    aws: 'Media a Alta. Requiere conocimiento del ecosistema de servicios de AWS.',
                    thingsboard: 'Media. Potente pero requiere configuraci√≥n de entidades, reglas y paneles.'
                },
                {
                    criterion: 'Escalabilidad',
                    nodered: 'Limitada de forma nativa. Requiere plataformas como FlowFuse para gesti√≥n a escala.',
                    aws: 'Masivamente escalable. Dise√±ada para millones de dispositivos y flujos de datos enormes.',
                    thingsboard: 'Alta. Dise√±ada para escalabilidad horizontal con arquitectura de microservicios.'
                },
                {
                    criterion: 'Modelo de Costo',
                    nodered: 'C√≥digo abierto (gratuito). Los costos provienen del hardware y plataformas de gesti√≥n opcionales.',
                    aws: 'Pago por uso. Los costos dependen de los servicios consumidos (mensajes, c√≥mputo, almacenamiento).',
                    thingsboard: 'C√≥digo abierto (Community Edition gratuita) y versiones comerciales (Professional Edition con suscripci√≥n).'
                }
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');
            const platformTabs = document.querySelectorAll('.platform-tab');
            const platformContentContainer = document.getElementById('platform-content');
            const comparisonTableBody = document.querySelector('#comparativo tbody');

            function showSection(targetId) {
                contentSections.forEach(section => {
                    section.classList.toggle('hidden', section.id !== targetId);
                });
                navLinks.forEach(link => {
                    link.classList.toggle('active', link.hash === `#${targetId}`);
                });
            }

            function renderPlatformContent(platformKey) {
                const platform = appData.platforms[platformKey];
                if (!platform) return;

                let contentHTML = `
                    <div class="bg-white p-6 rounded-xl shadow-lg mb-8">
                        <h3 class="text-2xl font-bold text-gray-800">${platform.name}</h3>
                        <p class="mt-2 text-gray-600">${platform.description}</p>
                    </div>
                    <h4 class="text-xl font-semibold text-center mb-6 text-gray-700">Casos de √âxito Relevantes</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                `;

                platform.cases.forEach((caseItem, index) => {
                    contentHTML += `
                        <div class="case-card bg-white rounded-xl shadow-md overflow-hidden" data-case-index="${index}">
                            <div class="p-6">
                                <h5 class="font-semibold text-lg text-gray-800">${caseItem.title}</h5>
                                <p class="text-sm text-gray-500 mt-1">Problema: ${caseItem.problem.substring(0, 70)}...</p>
                                <div class="text-right mt-4">
                                    <span class="text-blue-500 text-sm font-medium">Ver detalles ‚ñº</span>
                                </div>
                            </div>
                            <div class="details-content bg-gray-50 px-6">
                                <div class="py-4 border-t border-gray-200">
                                    <h6 class="font-semibold text-gray-700">Soluci√≥n:</h6>
                                    <p class="text-sm text-gray-600 mt-1">${caseItem.solution}</p>
                                    <h6 class="font-semibold text-gray-700 mt-4">Arquitectura:</h6>
                                    <p class="text-sm text-gray-600 mt-1">${caseItem.architecture}</p>
                                    <h6 class="font-semibold text-gray-700 mt-4">Resultados Clave:</h6>
                                    <p class="text-sm text-gray-600 mt-1">${caseItem.results}</p>
                                </div>
                            </div>
                        </div>
                    `;
                });

                contentHTML += `</div>`;
                platformContentContainer.innerHTML = contentHTML;
                
                document.querySelectorAll('.case-card').forEach(card => {
                    card.addEventListener('click', () => {
                        card.querySelector('.details-content').classList.toggle('open');
                    });
                });
            }
            
            function renderComparisonTable() {
                let tableHTML = '';
                appData.comparison.forEach(row => {
                    tableHTML += `
                        <tr class="hover:bg-gray-50">
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${row.criterion}</td>
                            <td class="px-6 py-4 whitespace-normal text-sm text-gray-600">${row.nodered}</td>
                            <td class="px-6 py-4 whitespace-normal text-sm text-gray-600">${row.aws}</td>
                            <td class="px-6 py-4 whitespace-normal text-sm text-gray-600">${row.thingsboard}</td>
                        </tr>
                    `;
                });
                comparisonTableBody.innerHTML = tableHTML;
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = e.currentTarget.hash.substring(1);
                    showSection(targetId);
                });
            });

            platformTabs.forEach(tab => {
                tab.addEventListener('click', (e) => {
                    const platformKey = e.currentTarget.dataset.platform;
                    platformTabs.forEach(t => t.classList.remove('active'));
                    e.currentTarget.classList.add('active');
                    renderPlatformContent(platformKey);
                });
            });

            // Initial state
            const initialHash = window.location.hash ? window.location.hash.substring(1) : 'introduccion';
            showSection(initialHash);
            platformTabs[0].classList.add('active');
            renderPlatformContent('nodered');
            renderComparisonTable();

            // Chart.js implementation
            const ctx = document.getElementById('marketGrowthChart').getContext('2d');
            const marketGrowthChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['2025', '2026', '2027', '2028', '2029'],
                    datasets: [{
                        label: 'Volumen de Mercado (en miles de millones de USD)',
                        data: [250.00, 283.35, 321.14, 363.95, 454.89], // Data calculated with 13.34% CAGR from a base
                        borderColor: '#3B82F6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: {
                                callback: function(value, index, values) {
                                    return '$' + value.toFixed(2) + 'B';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(context.parsed.y) + 'B';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
